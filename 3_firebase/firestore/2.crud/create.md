## CRUD Operations in Firestore

### CREATE
Firebase provides two methods to create or add data into firestore:

#### `addDoc()`
1. It creates a new document with `random ID` inside a given collection.

2. It takes two main args:
    1. `collection reference` (from `collection()` function)
    2. `dataObject` (our data to be added)

3. we use `collection()` function to get the referance of given collection in firestore. It takes two main args: 
    1. database instance
    2. collection name like `users`, `posts`, etc

4. to use both `addDoc()` & `collection()`, we must import it from `firebase/firestore`
```JS
import { addDoc, collection } from "firebase/firestore";
```

```JS
import { addDoc, collection } from "firebase/firestore";

await addDoc(collection(databaseInstance, "collection name"), {
  name: "venu",
  favHero: "bhAAi",
});

```
5. the `addDoc()` returns a promise that resolves to a `document refernace`. With the refernace we can get
    1. `ref.id`: returns the autoGeneratedID
    2. `ref.parent.id`: returns the name of the collection
    3. `ref.path`: returns the full path of the doc

#### `setDoc()`
1. `setDoc()` is used to create a document with a `custom ID`.

2. It takes two main args:
    1. `document reference` (from `doc()` function)
    2. `data object` (our data to store)

3. If the doc with the given ID exists, it gets overwritten by default.
If we don't want to override everyting and only want to update specific fields, we should pass `{ merge: true }` as the third argument to the setDoc() function.
```JS
const ref = doc(database, "collectionName", "documentID")
setDoc(ref, { name: "venu", category: "snake"}, { merge: true })

```

4. we use the `doc()` function to create a document reference, which takes:
    1. Firestore instance (`database`)
    2. Collection name
    3. Custom document ID 
    ```JS
    const docRef = doc(database, "CollectionName", "documentID")
    ```
5. To use both `setDoc()` & `doc()` we must import them from `firebase/firestore`.
```JS
import { setDoc, doc } from "firebase/firestore";
```
6. `setDoc` returns a promise that resolves into `void`